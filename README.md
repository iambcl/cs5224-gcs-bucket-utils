
**Google Cloud Bucket Utilities**

- **Overview:** A small utility module to upload images to a Google Cloud Storage bucket and generate time-limited signed URLs for non-public access.

**Requirements**
- **Python:** >= 3.9
- **Dependencies:** `python-dotenv`, `google-cloud-storage` (see `pyproject.toml`)

**Overview**
- `bucket_utils.py` exposes a `Bucket` class that:
	- uploads images to a configured GCS bucket via `upload_image(source_file_path)`
	- returns a V4 signed URL via `find_image(image_name)` (30-minute expiry)

**Quickstart**
1. Create and activate a virtual environment.
2. Install dependencies:

```powershell
pip install python-dotenv google-cloud-storage
```

3. Add credentials and configuration:

Create a service-account JSON key (example: `bucket_key.json`) and a `.env` file containing:

```text
BUCKET_NAME=your-bucket-name
KEY_PATH=path/to/bucket_key.json
```
The default bucket name should be: cs5224-image-bucket

4. Example usage:

```python
from bucket_utils import Bucket

b = Bucket()
# Upload a local image
b.upload_image('images/photo.png')
# Get a signed URL for download (valid 30 minutes)
link = b.find_image('photo.png')
print(link)
```

**Behavior notes**
- `upload_image` checks existence and skips if the object already exists.
- `find_image` returns `None` when the object is not present.
- Uploaded objects get a content-type inferred from the filename extension.

**Run as script**
Run the module directly to exercise the example at the bottom of `bucket_utils.py`:

```powershell
python bucket_utils.py
```

**Security**
- Keep `bucket_key.json` and `.env` out of version control. Never commit service account keys.

**Files**
- `bucket_utils.py` — helper class and example run block.
- `bucket_key.json` — expected service account key (store securely).
- `pyproject.toml` — project metadata and dependency list.


